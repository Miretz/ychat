based on http://socket.io/get-started/chat/
